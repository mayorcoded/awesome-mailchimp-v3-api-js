{"version":3,"sources":["../../src/index.js"],"names":["MailChimp","userName","apiKey","env","list","campaigns","members","mergefields","segments","webhooks","http","method","params","req","endpoint","set","auth","username","apikey","makeRequest","request","requestType","send","query"],"mappings":";;;;;;;;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;;;IAEqBA,S;AAEjB,uBAAYC,QAAZ,EAAsBC,MAAtB,EAA8B;AAAA;;AAC1B,aAAKC,GAAL,GAAW,0BAAgBF,QAAhB,EAAyBC,MAAzB,CAAX;AACA,aAAKE,IAAL,GAAY,6BAAmB,IAAnB,CAAZ;AACA,aAAKC,SAAL,GAAiB,iCAAuB,IAAvB,CAAjB;AACA,aAAKC,OAAL,GAAe,+BAAqB,IAArB,CAAf;AACA,aAAKC,WAAL,GAAmB,mCAAyB,IAAzB,CAAnB;AACA,aAAKC,QAAL,GAAgB,gCAAsB,IAAtB,CAAhB;AACA,aAAKC,QAAL,GAAgB,gCAAsB,IAAtB,CAAhB;AACH;;;;6BAEIC,I,EAAMC,M,EAAQC,M,EAAO;AACtB,gBAAMC,MAAM,0BAAQH,IAAR,OAAgB,KAAKP,GAAL,CAASW,QAAzB,GAAoCH,MAApC,EACPI,GADO,CACH,cADG,EACa,kBADb,EAEPC,IAFO,CAEF,KAAKb,GAAL,CAASc,QAFP,EAEiB,KAAKd,GAAL,CAASe,MAF1B,CAAZ;;AAIA,mBAAOlB,UAAUmB,WAAV,CAAsBT,IAAtB,EAA2BE,MAA3B,EAAkCC,GAAlC,CAAP;AACH;;;oCAEkBH,I,EAAME,M,EAAOQ,O,EAAS;AACrC,gBAAMC,cAAc,EAAC,QAAQD,QAAQE,IAAR,CAAaV,MAAb,CAAT,EAA+B,SAAQQ,QAAQE,IAAR,CAAaV,MAAb,CAAvC,EAA6D,OAAMQ,QAAQG,KAAR,CAAcX,MAAd,CAAnE,EAApB;AACA,mBAAOS,YAAYX,IAAZ,KAAmBU,OAA1B;AACH;;;;;;kBAvBgBpB,S","file":"index.js","sourcesContent":["import request from 'superagent';\r\nimport Environment from '../utils/Environment';\r\nimport MailchimpLists from './MailchimpLists';\r\nimport MailchimpCampaigns from  './MailchimpCampaigns';\r\nimport MailchimpMembers from './MailchimpMembers';\r\nimport MailchimpMergeFields from './MailchimpMergeFields';\r\nimport MailchimpSegments from './MailchimpSegments';\r\nimport MailchimpWebhooks from './MailchimpWebhooks';\r\n\r\nexport default class MailChimp {\r\n\r\n    constructor(userName, apiKey) {\r\n        this.env = new Environment(userName,apiKey);\r\n        this.list = new MailchimpLists(this);\r\n        this.campaigns = new MailchimpCampaigns(this);\r\n        this.members = new MailchimpMembers(this);\r\n        this.mergefields = new MailchimpMergeFields(this);\r\n        this.segments = new MailchimpSegments(this);\r\n        this.webhooks = new MailchimpWebhooks(this);\r\n    }\r\n\r\n    call(http, method, params){\r\n        const req = request(http,`${this.env.endpoint}${method}`)\r\n            .set('content-type', 'application/json')\r\n            .auth(this.env.username, this.env.apikey);\r\n\r\n        return MailChimp.makeRequest(http,params,req);\r\n    }\r\n\r\n    static makeRequest(http, params,request ){\r\n        const requestType = {'POST': request.send(params), 'PATCH':request.send(params), 'GET':request.query(params)};\r\n        return requestType[http]||request;\r\n    }\r\n}\r\n"]}